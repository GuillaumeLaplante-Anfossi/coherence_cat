% !TEX root = ../Coherence2.tex

\section{The hypergraph operad} 
\label{s:hyperoperad}

We define an operad structure on the sets of faces of hypergraph polytopes.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\subsection{Definition}

We define a $S$-colored operad, where $S$ is the set of all connected hypergraphs.

\begin{definition}
  The \defn{homotopy hypergraph operad} $\calH_\infty$ is the free colored operad on generators 
  $$\{ X \ | \ \emptyset \neq X \subseteq H , \ \hyper{H} \text{ is a connected hypergraph}\},$$
where the input colors of $X$ are the connected components of $\hyper{H}\setminus X$ and the ouput color of $X$ is $H$.
It's differential is given by the boundary map of hypergraph polytopes, where we consider an operation as part of the hypergraph made of the reconnected complement of its set of vertices in the output color of its root. 
\end{definition}


Note that restricting the definitio above to subsets $X$ of cardinal $1$, we obtain a suboperad $\calH_\infty^1 \subset \calH_\infty$. 

\begin{definition}
  The \defn{hypergraph operad} $\calH$ is the quotient of the free colored operad $\calH_\infty^1$ by the operadic ideal generated by the relations $$x(y)=y(x).$$
\end{definition}

\begin{thm}
  The operad $\calH$ is Koszul.
\end{thm}

\begin{proof}
  By \cref{thm:confluent}.
\end{proof}

\begin{thm}
  The homotopy hypergraph operad $\calH_\infty$ is the minimal model of the hypergraph operad $\calH$.
\end{thm}

\begin{proof}
  Hypergraph polytopes are contractible. 
\end{proof}

\begin{thm}
  Categorified $\calH$-algebras are coherent.
\end{thm}

\begin{proof}
  Via Huet's correspondence from the rewriting system, or two different geometric proofs from \cite{CLA1}.
\end{proof}

\begin{example}
  Restricting to appropriate families of hypergraphs, we recover results for reconnectads, Batanin--Markl--Obradovic, modular operahedra, operahedra, associahedra, cubes, simplices... 
\end{example}

Now, we can all specialize these results to contextual nestohedra!